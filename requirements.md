# intro-score アプリ 要件定義書

## 1. アプリケーション概要

### 1.1 プロジェクト概要
- **アプリ名**: intro-score
- **目的**: エンジニアの自己紹介音声を分析し、カスタムAI人格による「仲良くなりたい度」「一緒に働きたい度」を評価することで、社内外コミュニケーション能力向上を支援する
- **開発期間**: 約8-10週間
- **予算**: 無料枠内での開発

### 1.2 ターゲットユーザー
- **主要ターゲット**: 社内外で交流を増やしたいエンジニア
- **サブターゲット**: 
  - 新入社員エンジニア
  - チームリーダーを目指すエンジニア
  - 技術プレゼンテーション能力を向上したいエンジニア
  - 転職活動中のエンジニア

### 1.3 ビジネス価値
- エンジニアの社内外コミュニケーション促進
- チームビルディングの支援
- 技術コミュニティでのネットワーキング向上
- 自己表現力の客観的評価とフィードバック
- 技術スキルの可視化による適切なマッチング

## 2. 技術スタック

### 2.1 フロントエンド
- **フレームワーク**: Next.js 14+ (App Router)
- **言語**: TypeScript
- **スタイリング**: TailwindCSS
- **UI コンポーネント**: 自作コンポーネント + Headless UI

### 2.2 バックエンド
- **API**: Next.js API Routes
- **認証**: Supabase Auth
- **データベース**: Supabase PostgreSQL
- **ファイル保存**: Supabase Storage

### 2.3 外部サービス
- **音声処理**: Web Speech API（文字起こし）
- **音響分析**: Web Audio API
- **AI 分析**: Google Gemini API
- **デプロイメント**: Vercel

### 2.4 コスト構造
全て無料枠内での運用を想定：
- **Gemini API**: 月間15リクエスト/分、100万トークン/日
- **Supabase**: 500MB DB、5GB帯域幅
- **Vercel**: 100GB帯域幅

## 3. 機能要件

### 3.1 音声録音・処理機能

#### 3.1.1 音声録音
- **録音方式**: ブラウザのMediaRecorder API
- **対応時間**: 最大5分間
- **音声形式**: WebM
- **リアルタイム表示**: 音声波形、録音時間
- **録音制御**: 開始・停止・一時停止・再録音

#### 3.1.2 文字起こし
- **API**: Web Speech API（ブラウザ標準）
- **対応言語**: 日本語
- **リアルタイム処理**: 録音と同時に文字起こし実行
- **編集機能**: ユーザーによる文字起こし結果の修正

#### 3.1.3 音響分析
- **聞き取りやすさ**: 音声明瞭度の評価（1-10点）
- **音量適切性**: 適切/大きすぎる/小さすぎるの判定（5段階）
- **話速分析**: 300-400文字/分を基準とした適切性評価
- **声の安定性**: 振幅変動による緊張度・安定度分析

### 3.2 AI人格による評価機能

#### 3.2.1 カスタムAI人格設定
- **入力方式**: フリーテキスト入力（推奨：200-500文字）
- **設定例**:
  ```
  「厳しいけど的確なアドバイスをくれる10年目のシニアエンジニア。
  技術の深さと実装経験を重視して評価してください。
  コードレビューが得意で、後輩の成長を真剣に考えてくれる先輩のような視点でお願いします。」
  ```

#### 3.2.2 プリセット人格
1. **技術メンター**: 技術スキルを重視する評価
2. **チームリーダー**: チームワークとコミュニケーションを重視
3. **HR面接官**: 総合的な人物評価を重視
4. **同期エンジニア**: 親しみやすさとカジュアルさを重視
5. **シニアエンジニア**: 経験と知識の深さを重視

#### 3.2.3 評価項目
- **仲良くなりたい度**: 1-100点（人としての親しみやすさ・魅力）
- **一緒に働きたい度**: 1-100点（仕事上のパートナーとしての魅力）
- **評価理由**: 各スコアの具体的な根拠
- **改善提案**: 3つの具体的なアドバイス

#### 3.2.4 スコア算出ロジック
```
最終スコア = (声質スコア × 0.2) + (仲良くなりたい度 × 0.4) + (一緒に働きたい度 × 0.4)
```

### 3.3 エンジニア特化プロフィール抽出機能

自己紹介音声から以下のようなエンジニア関連情報を自動抽出・構造化：

- **基本情報**: 名前、経験年数、職種、ポジション等
- **技術スキル**: プログラミング言語、フレームワーク、ツール、開発手法等
- **プロジェクト経験**: 過去の開発経験、実績、チームでの役割等  
- **個人情報**: 趣味、興味関心、学習目標等

抽出された情報は構造化データとして保存され、ユーザーによる編集・追加が可能

### 3.4 自己紹介生成機能

#### 3.4.1 プラットフォーム別プロフィール生成
1. **X (Twitter)プロフィール**: 
   - キャッチーで印象的な一行
   - 職業・専門性を明記
   - 個性・趣味を少し含める
   - 160文字以内（プロフィール欄制限）

2. **Instagramプロフィール**: 
   - 改行を活用した見やすい構成
   - 絵文字でビジュアル強化
   - 人となりが伝わる温かい表現
   - 150文字以内（プロフィール欄推奨）

3. **noteプロフィール**: 
   - 経歴・実績を含む詳細な自己紹介
   - 価値観や想いを表現
   - 読者との関係性を意識
   - 300-500文字程度

4. **技術ブログプロフィール**: 
   - 専門領域・技術スタックを明確に
   - 実績・経験を具体的に記載
   - 学習姿勢・情報発信の目的
   - 200-400文字程度

## 4. 非機能要件

### 4.1 パフォーマンス要件
- **ページ読み込み時間**: 初回3秒以内、2回目以降1秒以内
- **音声処理時間**: 5分の録音に対して30秒以内で分析完了
- **同時利用者数**: 50人まで対応

### 4.2 セキュリティ要件
- **認証**: Supabase Auth による認証必須
- **データ暗号化**: 保存データの暗号化
- **音声ファイル**: 評価完了後24時間で自動削除
- **個人情報保護**: GDPR準拠のデータ処理

### 4.3 可用性要件
- **稼働率**: 99.5%以上
- **バックアップ**: 日次自動バックアップ
- **災害対策**: Vercel・Supabaseの冗長化機能を活用

### 4.4 ユーザビリティ要件
- **レスポンシブデザイン**: PC・タブレット・スマートフォン対応
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **ブラウザ対応**: Chrome, Firefox, Safari, Edge 最新版
- **多言語対応**: 日本語のみ（将来拡張予定）

## 5. システム構成

### 5.1 アーキテクチャ概要
```
[フロントエンド (Next.js)] 
       ↕ 
[API Routes (Next.js)]
       ↕
[Supabase (DB + Auth + Storage)] + [Gemini API]
       ↕
[Vercel (Deployment)]
```

### 5.2 デプロイメント構成
- **本番環境**: Vercel Production
- **ステージング環境**: Vercel Preview
- **開発環境**: ローカル開発サーバー + Supabase ローカル

## 6. 開発計画

### 6.1 開発フェーズ

#### フェーズ1: 基盤構築（1-2週間）
- [x] Next.js + TypeScript プロジェクト初期化
- [x] TailwindCSS セットアップ
- [x] Supabase プロジェクト作成・連携
- [x] 認証機能実装
- [x] 基本UI コンポーネント作成

#### フェーズ2: コア機能開発（2-3週間）
- [x] 音声録音機能実装
- [x] Web Speech API 連携
- [x] Web Audio API による音響分析
- [x] 基本的な評価ロジック実装

#### フェーズ3: AI評価システム（2-3週間）
- [x] Gemini API 連携
- [x] カスタムAI人格設定機能
- [x] プリセット人格管理
- [x] 評価結果表示画面

#### フェーズ4: エンジニア特化機能（2週間）
- [x] 技術スキル抽出機能
- [x] エンジニア向け自己紹介生成
- [x] 技術スタック可視化
- [x] プロフィール管理機能

#### フェーズ5: 最適化・デプロイ（1週間）
- [x] パフォーマンス最適化
- [x] セキュリティ強化
- [x] テスト実装・実行
- [x] Vercel本番デプロイ

### 6.2 品質管理
- **コードレビュー**: 全てのPRに対してレビュー実施
- **テスト**: Jest + React Testing Library でのユニットテスト
- **E2Eテスト**: Playwright での主要フロー確認
- **型安全性**: TypeScript strict mode での開発

## 7. リスクと対策

### 7.1 技術的リスク
- **API制限超過**: 
  - 対策: レート制限実装、キャッシュ機能
- **音声認識精度**:
  - 対策: ユーザーによる文字起こし修正機能
- **ブラウザ互換性**:
  - 対策: Progressive Enhancement での実装

### 7.2 ビジネスリスク
- **ユーザー受容性**:
  - 対策: MVP での仮説検証、ユーザーフィードバック収集
- **競合サービス**:
  - 対策: エンジニア特化での差別化

### 7.3 運用リスク
- **スケーラビリティ**:
  - 対策: 段階的な機能追加、パフォーマンス監視
- **データプライバシー**:
  - 対策: 最小限のデータ保持、透明性の確保

## 8. 成功指標（KPI）

### 8.1 利用指標
- **月間アクティブユーザー数**: 100人（3ヶ月後）
- **録音完了率**: 80%以上
- **評価完了率**: 90%以上

### 8.2 品質指標
- **ユーザー満足度**: 4.0以上（5段階評価）
- **音声認識精度**: 85%以上
- **システム可用性**: 99.5%以上

### 8.3 ビジネス指標
- **継続利用率**: 60%以上（1ヶ月後）
- **自己紹介改善実感**: 70%以上
- **社内外コミュニケーション促進**: 定性的評価

## 9. 将来の拡張予定

### 9.1 機能拡張
- **チーム評価機能**: 複数人での相互評価
- **プレゼンテーション練習**: より長時間の発表評価
- **多言語対応**: 英語での自己紹介評価
- **動画対応**: 表情・ジェスチャーも含めた総合評価

### 9.2 技術改善
- **リアルタイムフィードバック**: 録音中のリアルタイム改善提案
- **音声品質向上**: ノイズキャンセリング機能
- **AI精度向上**: カスタマイズされた評価モデル

---

**更新履歴**
- v1.0.0: 初版作成（2025-07-21）